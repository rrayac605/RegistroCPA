<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:panelGrid id="pngDespacho" columns="2" style="width:100%">
		<p:outputLabel id="lblFormaDespacho"
			value="#{msg['message.actualizacion.despacho.formadespacho']}" />
		<p:selectOneMenu id="cmbFormaDespacho"
			disabled="#{not actualizacionRegistroPage.habilitaDatosDespacho}"
			value="#{actualizacionRegistroPage.tipoDespacho}">
			<p:ajax
				listener="#{actualizacionRegistroBean.seleccionTipoDespacho()}"
				update="@form" partialSubmit="true" />
			<f:selectItem itemLabel="#{msg['message.contador.opcion']}"
				itemValue="" />
			<f:selectItem
				itemLabel="#{msg['message.actualizacion.despacho.despacholabel']}"
				itemValue="D" />
			<f:selectItem
				itemLabel="#{msg['message.actualizacion.despacho.independientelabel']}"
				itemValue="I" />
		</p:selectOneMenu>
	</p:panelGrid>
	<p:panelGrid id="pngTrabajadores" columns="3" style="width:100%;"
		rendered="#{actualizacionRegistroPage.habilitarTrabajadoresDespacho}">
		<p:outputLabel id="lblCuentaTrab"
			value="#{msg['message.actualizacion.despacho.trabajadores']}" />
		<p:selectOneRadio id="rbCuentaTrab" layout="grid" columns="2"
			disabled="#{not actualizacionRegistroPage.habilitaDatosDespacho and not actualizacionRegistroPage.habilitarTrabajadoresDespacho}"
			value="#{actualizacionRegistroPage.cuentaConTrabajadores}">
			<f:selectItem itemLabel="#{msg['message.label.itemLabel.si']}"
				itemValue="#{msg['message.label.itemLabel.si']}" />
			<f:selectItem itemLabel="#{msg['message.label.itemLabel.no']}"
				itemValue="#{msg['message.label.itemLabel.no']}" />
			<p:ajax update="@form"
				listener="#{actualizacionRegistroBean.habilitarNumeroTrabajadores()}" />
		</p:selectOneRadio>
		<h:panelGroup id="pgNumeroTrabajadores"
			rendered="#{actualizacionRegistroPage.habilitaDatosDespacho and actualizacionRegistroPage.habilitaNumeroTrabajadores}">
			<p:outputLabel id="lblCuentaTrabNum"
				value="#{msg['message.actualizacion.despacho.numerotrabajadores']}" />
			<p:inputText id="txtCuentaTrab" maxlength="4"
				disabled="#{not actualizacionRegistroPage.habilitaDatosDespacho}"
				style="width:10%" />
		</h:panelGroup>

	</p:panelGrid>
	<p:panelGrid id="pngRazonSocial" columns="2" style="width:100%">
		<h:panelGroup id="pgRFCDesp">
			<p:outputLabel id="lblRFCDesp"
				value="#{msg['message.actualizacion.despacho.rfc']}" />
			<p:inputText id="txtRFCDesp" maxlength="12" style="width:35%;"
				value="#{actualizacionRegistroPage.rfcDespacho}">
				<p:ajax event="valueChange"
					listener="#{actualizacionRegistroBean.buscarDespacho()}"
					update="pgRazonSocialDespacho" />
			</p:inputText>
		</h:panelGroup>
		<h:panelGroup id="pgRazonSocialDespacho">
			<p:outputLabel id="lblRazonSocialDespacho"
				value="#{msg['message.actualizacion.despacho.nombre']}" />
			<p:inputText id="txtRazonSocialDespacho" disabled="true"
				value="#{actualizacionRegistroPage.razonSocialDespacho}" />
		</h:panelGroup>
		<h:panelGroup id="pgCargo">
			<p:outputLabel id="lblCargo"
				value="#{msg['message.actualizacion.despacho.cargo']}" />
			<p:selectOneMenu id="somCargo"
				disabled="#{not actualizacionRegistroPage.habilitaDatosDespacho}">
				<f:selectItem itemLabel="#{msg['message.contador.opcion']}"
					itemValue="" />
				<f:selectItem
					itemLabel="#{msg['message.actualizacion.despacho.cargo.director']}"
					itemValue="#{msg['message.actualizacion.despacho.cargo.director']}" />
				<f:selectItem
					itemLabel="#{msg['message.actualizacion.despacho.cargo.socio']}"
					itemValue="#{msg['message.actualizacion.despacho.cargo.socio']}" />
				<f:selectItem
					itemLabel="#{msg['message.actualizacion.despacho.cargo.gerente']}"
					itemValue="#{msg['message.actualizacion.despacho.cargo.gerente']}" />
				<f:selectItem
					itemLabel="#{msg['message.actualizacion.despacho.cargo.auditor']}"
					itemValue="#{msg['message.actualizacion.despacho.cargo.auditor']}" />
			</p:selectOneMenu>
		</h:panelGroup>
		<h:panelGroup id="pgTelefonoFijo">
			<p:outputLabel id="lblTelefonoFijo"
				value="#{msg['message.actualizacion.despacho.telefonofijo']}" />
			<p:inputText id="txtTelefonoDespacho"
				disabled="#{not actualizacionRegistroPage.habilitaDatosDespacho}" />
		</h:panelGroup>
	</p:panelGrid>

	<p:dialog id="dlgDatosDespCorrectos"
		visible="#{not actualizacionRegistroPage.habilitaDatosDespacho}">
		<p:panel id="pnDatosDespCorrecto" style="width:100%">
			<h:panelGroup id="pngDatosDespCorrectos">
				<h3>#{msg['message.actualizacion.despacho.datoscorrectos']}</h3>
			</h:panelGroup>
			<p:panelGrid columns="2" id="pgDespButtons">
				<p:commandButton id="btnSiDatosDesp"
					value="#{msg['message.button.si']}" partialSubmit="true"
					actionListener="#{actualizacionRegistroBean.habilitaPanelDespacho()}"
					update="dlgDatosDespCorrectos pngDespacho pngTrabajadores pngRazonSocial"
					styleClass="ui-priority-primary" />
				<p:commandButton id="btnNoDatosDesp"
					value="#{msg['message.button.no']}"
					styleClass="ui-priority-primary"
					actionListener="#{actualizacionRegistroBean.mostrarMensajeError()}" />
			</p:panelGrid>
		</p:panel>
	</p:dialog>
</ui:composition>