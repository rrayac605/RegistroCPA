<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>
	<h:form>
		<p:panel style="width:100%; " styleClass="table-no-border">
			<p:panelGrid style="width:100%;">
				<p:row>
					<p:column>
						<h1>#{msg['message.contador.solicitud.titulo']}</h1>
					</p:column>
					<p:column>
						<ui:include src="navegador/navegador2.xhtml" />
					</p:column>
				</p:row>
			</p:panelGrid>
			<ui:include src="hrFolio.xhtml" />

			<h3>#{msg['message.contador.despacho.titulo']}</h3>
			<hr class="red" />
			<br />
			<p:panelGrid id="tableDatosDespacho"
				style="width:100%; margin: 0 0 auto auto; " styleClass="table">
				<p:row>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="#{msg['message.contador.despacho.pregunta.uno']}" />
					</p:column>
					<p:column>
						<p:selectOneMenu
							value="#{registroDespachoPage.opcionSeleccionada}">
							<p:ajax event="change"
								listener="#{registroDespachoBean.elegirOpcion()}"
								update="gridIndependiente gridDespacho datosDespacho" />
							<f:selectItem itemLabel="#{msg['message.label.seleccione']}"
								itemValue="0" />
							<f:selectItems value="#{registroDespachoPage.opciones}"
								var="opcion" itemLabel="#{opcion}" itemValue="#{opcion}" />
						</p:selectOneMenu>
					</p:column>
				</p:row>
			</p:panelGrid>

			<br />
			<br />
			<p:panelGrid id="gridIndependiente" style="width:100%; "
				rendered="#{solicitudRegistroPage.contador.independiente}"
				styleClass="table-no-border">
				<p:row>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="#{msg['message.contador.despacho.pregunta.dos']}" />
					</p:column>
					<p:column>
						<p:selectBooleanButton
							value="#{registroDespachoPage.trabajadores}" inmediate="true"
							onLabel="#{msg['message.contador.despacho.si']}"
							offLabel="#{msg['message.contador.despacho.no']}">
							<p:ajax event="change" update="nTrabajadores"
								listener="#{registroDespachoBean.activarNumTrabajadores()}" />
						</p:selectBooleanButton>
					</p:column>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="#{msg['message.contador.despacho.nTrabajadores']}" />
					</p:column>
					<p:column>
						<p:inputMask mask="9?9999" id="nTrabajadores"
							disabled="!registroDespachoPage.trabajadores"
							value="#{solicitudRegistroPage.contador.nTrabajadores}">
							<p:ajax event="blur" update="@this" />
						</p:inputMask>
					</p:column>
				</p:row>
			</p:panelGrid>
			<p:panelGrid id="gridDespacho" style="width:100%; "
				rendered="#{solicitudRegistroPage.contador.perteneceDespacho}"
				styleClass="table table-striped">
				<p:row>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="* #{msg['message.contador.despacho.rfc']}" />
					</p:column>
					<p:column>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:inputText
							value="#{solicitudRegistroPage.contador.despacho.rfc}">
							<p:ajax event="change" update="@this" />
						</h:inputText>
					</p:column>
					<p:column>
						<p:commandButton value="#{msg['message.button.buscar']}"
							styleClass="btn-sm btn-primary" immediate="true"
							action="#{registroDespachoBean.buscarDespacho()}"
							icon="ui-icon-arrowthick-1-e" onclick="imagenEsperaWidget.show()"
							oncomplete="imagenEsperaWidget.hide()"
							update="dialogGeneral datosDespacho" />
					</p:column>
				</p:row>
			</p:panelGrid>
			<p:panelGrid id="datosDespacho" style="width:100%; "
				rendered="#{registroDespachoPage.despachoEncontrado}"
				styleClass="table table-striped">
				<p:row>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="* #{msg['message.contador.despacho.razonSocial']}" />
					</p:column>
					<p:column></p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="* #{solicitudRegistroPage.contador.despacho.razonSocial}" />
					</p:column>
					<p:column></p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="* #{msg['message.contador.despacho.cargo']}" />
					</p:column>
					<p:column>
						<h:outputText styleClass="SubtituloSeccion"
							value="* #{msg['message.contador.despacho.telFijo']}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:selectOneMenu
							value="#{registroDespachoPage.cargoSeleccionado.id}">
							<p:ajax event="change" update="@this"/>
							<f:selectItem itemLabel="#{msg['message.label.seleccione']}"
								itemValue="0"  />
							<f:selectItems value="#{registroDespachoPage.cargos}"
								var="cargo" itemLabel="#{cargo.descripcion}"
								itemValue="#{cargo.id}" />
						</p:selectOneMenu>
					</p:column>
					<p:column>
						<p:inputMask mask="999?9999999999"
							value="#{solicitudRegistroPage.contador.despacho.telefonoFijo}">
							<p:ajax event="blur" update="@this" />
						</p:inputMask>
					</p:column>
				</p:row>
			</p:panelGrid>
			<br />
			<br />
			<p:panelGrid style="width:100%; " styleClass="table-no-border">
				<p:row>
					<p:column style="text-align: left;">
						<p:commandButton value="#{msg['message.button.anterior']}"
							action="#{solicitudRegistroBean.redireccionarSolicitudRegistro()}"
							styleClass="btn-sm btn-default" icon="ui-icon-arrowthick-1-w" />
					</p:column>
					<p:column style="text-align: right;">
						<p:commandButton value="#{msg['message.button.siguiente']}"
							styleClass="btn-sm btn-primary" immediate="true"
							action="#{registroDespachoBean.redireccionarToRegistroColegio()}"
							icon="ui-icon-arrowthick-1-e" onclick="imagenEsperaWidget.show()"
							oncomplete="imagenEsperaWidget.hide()" update="dialogGeneral" />
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>
		<!-- dialogos -->
	</h:form>
</h:body>
</html>